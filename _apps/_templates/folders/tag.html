{% raw %}
<div id="{{id}}" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="modal_options_title">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modal_options_title">{{{title}}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        {{#if instructions}}{{{instructions}}}{{/if}}
				{{#if shortcuts}}{{> populate_buttons shortcuts}}{{/if}}
				<form class="needs-validation mt-3" novalidate>
					<div class="row">
						<div class="form-group col-lg-8">
							<label for="tagName">Name</label>
						  <input type="text" id="tagName" name="name" class="form-control"{{#if state}}{{#if state.name}} value="{{state.name}}"{{/if}}{{/if}} pattern="^[a-zA-Z0-9.!@$%^&*()\-_/]*$" required/>
						  <small class="form-text text-muted">The name of the tag to set.</small>
							<div class="invalid-feedback">Tag Names may only contain only the letters a-z and A-Z, the numbers 0-9, and the characters .!@$%^&amp;*()-_/</div>
						</div>
						<div class="col-lg-4 d-flex align-items-center">
							<div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" id="tagPrivate" name="private"{{#if state}}{{#if state.private}} checked{{/if}}{{/if}}>
								<label class="custom-control-label" for="tagPrivate">Private Tag?</label>
								<small class="form-text text-muted">Can only be read with this app.</small>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="form-group col-lg-8">
							<label for="tagName">Value</label>
							<button type="button" class="close" data-action="clear" data-clear="tagValue" aria-label="Clear"><span aria-hidden="true">&times;</span></button>
							<textarea id="tagValue" name="value" class="form-control resizable" rows="1" required>{{#if state}}{{state.value}}{{/if}}</textarea>
							<small class="form-text text-muted">The value of the tag to set.</small>
						</div>
						<div class="col-lg-4 d-flex align-items-center">
							<div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" id="tagRemove" name="remove"{{#if state}}{{#if state.remove}} checked{{/if}}{{/if}}>
								<label class="custom-control-label" for="tagRemove">Remove Tag?</label>
								<small class="form-text text-muted">Remove Named Tag from items.</small>
							</div>
						</div>
					</div>
				</form>
      </div>
      <div class="modal-footer">
        {{# if actions}}{{#each actions}}{{> control_button b_class="btn-light" b_id=id b_action=(concat "actions_" @index) b_title=desc b_text=text }}{{/each}}{{/if}}
				<button type="button" class="btn btn-primary" data-dismiss="modal">Tag</button>
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endraw %}