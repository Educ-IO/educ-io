{% capture desc %}{% if page.app %}{{ site.title }} | {{ page.title }} - {{ site.data.apps[page.app].desc | replace: '_', '' | replace: '`', '' }}{% elsif page.lead %}{{ page.lead | replace: '_', '' | replace: '`', '' }}{% elsif page.description %}{{ page.description }}{% elsif page.title %}{{ page.title }}{% else %}{{ site.description }}{% endif %}{% endcapture %}{% capture title %}{% if page.title %} {{ page.title }} | {{ site.title }} {% else %} {{ site.title }} {% endif %}{% endcapture %}{% capture keywords %}{% if page.keywords %}{{ page.keywords }}{% else %}{{ site.keywords }}{% endif %}{% endcapture %}{% assign colour = false %}{% if page.colour %}{% assign colour = page.colour %}{% elsif layout.colour %}{% assign colour = layout.colour %}{% elsif page.app and site.data.apps[page.app].colour %}{% assign colour = site.data.apps[page.app].colour %}{% elsif page.for and site.data.apps[page.for].colour %}{% assign colour = site.data.apps[page.for].colour %}{% endif %}{% assign css = false %}{% if page.css %}{% assign css = page.css.primary %}{% elsif layout.css %}{% assign css = layout.css.primary %}{% endif %}{% if page.app and site.data.apps[page.app].css and site.data.apps[page.app].css.primary and site.data.apps[page.app].css.primary.size > 0 %}{% assign css = css | concat: site.data.apps[page.app].css.primary %}{% endif %}<head>

	{% include meta.html title=title desc=desc keywords=keywords hidden=page.hidden %}

	{% if page.app %}<noscript><meta http-equiv="refresh" content="0; URL=/requirements"/></noscript>{% endif %}

	{% include icons.html %}

	{% include setup.html %}

	{% include helpers.html %}
  
	{% include modules.html %}
	
	{% include scripts.html %}
	
	{% include styles.html sensitive="true" colour=colour imports=css %}
  
  {% include tests.html %}
	
</head>